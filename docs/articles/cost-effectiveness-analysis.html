<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cost-effectiveness calculation â€¢ LTBIscreeningproject</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Cost-effectiveness calculation">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LTBIscreeningproject</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/active-tb-imputation.html">Active TB progression estimation</a>
    </li>
    <li>
      <a href="../articles/combine_dectree_and_popmodel_output.html">Basic output plots</a>
    </li>
    <li>
      <a href="../articles/cost-effectiveness-analysis.html">Cost-effectiveness calculation</a>
    </li>
    <li>
      <a href="../articles/scenario-simulation.html">A scenario decision tree simulation</a>
    </li>
    <li>
      <a href="../articles/set-up.html">Basic example: model set-up</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Cost-effectiveness calculation</h1>
                        <h4 class="author">Nathan Green</h4>
            
            <h4 class="date">2018-04-04</h4>
      
      

    </div>

    
    
<div class="contents">
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This document demonstrates how we calculate the cost and QALY statistics.</p>
</div>
<div id="analysis-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-preparation" class="anchor"></a>Analysis preparation</h2>
<p>Load packages</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(treeSimR)
<span class="kw">library</span>(LTBIscreeningproject)
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(data.tree)
<span class="kw">library</span>(purrr)</code></pre></div>
<p>We first need to read-in the decision tree output data and the individual cohort data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dectree_res &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">"decision_tree_output.Rds"</span>)
cohort &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">"cohort.Rds"</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data("cost_effectivness_params", package = "LTBIscreeningproject")</span></code></pre></div>
<p>It is sometimes arkward to use the decision tree output in the format with the scenario number as the top level. It may be more useful to have each output type at the top level instead, so we <em>transpose</em> the data.</p>
<p>From:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(dectree_res, <span class="dt">FUN =</span> <span class="cf">function</span>(x) <span class="kw">lapply</span>(x, head))
<span class="co">#&gt; $`1`</span>
<span class="co">#&gt; $`1`$mc_cost</span>
<span class="co">#&gt; [1] 36.31012 36.82432 36.33503 36.25995 37.00919 36.80207</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$mc_health</span>
<span class="co">#&gt; [1] 5.585985e-06 5.370821e-06 4.646076e-06 5.355858e-06 5.362683e-06</span>
<span class="co">#&gt; [6] 5.718115e-06</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$n_tb_screen_all</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  3</span>
<span class="co">#&gt; 2   1           tb 17</span>
<span class="co">#&gt; 3   2 disease-free  2</span>
<span class="co">#&gt; 4   2           tb 18</span>
<span class="co">#&gt; 5   3 disease-free  2</span>
<span class="co">#&gt; 6   3           tb 18</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$n_tb_screen_uk</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  2</span>
<span class="co">#&gt; 2   1           tb  8</span>
<span class="co">#&gt; 3   2 disease-free  1</span>
<span class="co">#&gt; 4   2           tb  9</span>
<span class="co">#&gt; 5   3 disease-free  0</span>
<span class="co">#&gt; 6   3           tb 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.108864 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$subset_pop</span>
<span class="co">#&gt;    LTBI_pre tests  positive    startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.08930096 0.05358058 0.03122406 0.2555931</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$call</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$N.mc</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`</span>
<span class="co">#&gt; $`2`$mc_cost</span>
<span class="co">#&gt; [1] 44.46451 45.99899 44.63913 43.93595 44.20433 44.21356</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$mc_health</span>
<span class="co">#&gt; [1] 7.521093e-06 6.090351e-06 6.261289e-06 6.969095e-06 7.260007e-06</span>
<span class="co">#&gt; [6] 7.248490e-06</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$n_tb_screen_all</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  3</span>
<span class="co">#&gt; 2   1           tb 17</span>
<span class="co">#&gt; 3   2 disease-free  3</span>
<span class="co">#&gt; 4   2           tb 17</span>
<span class="co">#&gt; 5   3 disease-free  3</span>
<span class="co">#&gt; 6   3           tb 17</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$n_tb_screen_uk</span>
<span class="co">#&gt;   sim       status n</span>
<span class="co">#&gt; 1   1 disease-free 2</span>
<span class="co">#&gt; 2   1           tb 8</span>
<span class="co">#&gt; 3   2 disease-free 2</span>
<span class="co">#&gt; 4   2           tb 8</span>
<span class="co">#&gt; 5   3 disease-free 2</span>
<span class="co">#&gt; 6   3           tb 8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.145152 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$subset_pop</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1190679 0.07144077 0.04163208 0.2451851</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$call</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$N.mc</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`</span>
<span class="co">#&gt; $`3`$mc_cost</span>
<span class="co">#&gt; [1] 51.95845 53.77997 53.33703 52.46245 52.78314 52.13228</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$mc_health</span>
<span class="co">#&gt; [1] 8.524595e-06 7.996882e-06 9.289761e-06 9.261866e-06 8.941128e-06</span>
<span class="co">#&gt; [6] 7.988450e-06</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$n_tb_screen_all</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  3</span>
<span class="co">#&gt; 2   1           tb 17</span>
<span class="co">#&gt; 3   2 disease-free  4</span>
<span class="co">#&gt; 4   2           tb 16</span>
<span class="co">#&gt; 5   3 disease-free  3</span>
<span class="co">#&gt; 6   3           tb 17</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$n_tb_screen_uk</span>
<span class="co">#&gt;   sim       status n</span>
<span class="co">#&gt; 1   1 disease-free 1</span>
<span class="co">#&gt; 2   1           tb 9</span>
<span class="co">#&gt; 3   2 disease-free 1</span>
<span class="co">#&gt; 4   2           tb 9</span>
<span class="co">#&gt; 5   3 disease-free 1</span>
<span class="co">#&gt; 6   3           tb 9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;     0.18144 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$subset_pop</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx     cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1488349 0.08930096 0.0520401  0.234777</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$call</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$N.mc</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>to:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># convert from scenario-wise to parameter-wise format</span>
scenario_res &lt;-
<span class="st">  </span>dectree_res <span class="op">%&gt;%</span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/transpose">transpose</a></span>()

<span class="kw">lapply</span>(scenario_res, <span class="cf">function</span>(x) <span class="kw">lapply</span>(x, head))
<span class="co">#&gt; $mc_cost</span>
<span class="co">#&gt; $mc_cost$`1`</span>
<span class="co">#&gt; [1] 36.31012 36.82432 36.33503 36.25995 37.00919 36.80207</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_cost$`2`</span>
<span class="co">#&gt; [1] 44.46451 45.99899 44.63913 43.93595 44.20433 44.21356</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_cost$`3`</span>
<span class="co">#&gt; [1] 51.95845 53.77997 53.33703 52.46245 52.78314 52.13228</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_health</span>
<span class="co">#&gt; $mc_health$`1`</span>
<span class="co">#&gt; [1] 5.585985e-06 5.370821e-06 4.646076e-06 5.355858e-06 5.362683e-06</span>
<span class="co">#&gt; [6] 5.718115e-06</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_health$`2`</span>
<span class="co">#&gt; [1] 7.521093e-06 6.090351e-06 6.261289e-06 6.969095e-06 7.260007e-06</span>
<span class="co">#&gt; [6] 7.248490e-06</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_health$`3`</span>
<span class="co">#&gt; [1] 8.524595e-06 7.996882e-06 9.289761e-06 9.261866e-06 8.941128e-06</span>
<span class="co">#&gt; [6] 7.988450e-06</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_all</span>
<span class="co">#&gt; $n_tb_screen_all$`1`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  3</span>
<span class="co">#&gt; 2   1           tb 17</span>
<span class="co">#&gt; 3   2 disease-free  2</span>
<span class="co">#&gt; 4   2           tb 18</span>
<span class="co">#&gt; 5   3 disease-free  2</span>
<span class="co">#&gt; 6   3           tb 18</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_all$`2`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  3</span>
<span class="co">#&gt; 2   1           tb 17</span>
<span class="co">#&gt; 3   2 disease-free  3</span>
<span class="co">#&gt; 4   2           tb 17</span>
<span class="co">#&gt; 5   3 disease-free  3</span>
<span class="co">#&gt; 6   3           tb 17</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_all$`3`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  3</span>
<span class="co">#&gt; 2   1           tb 17</span>
<span class="co">#&gt; 3   2 disease-free  4</span>
<span class="co">#&gt; 4   2           tb 16</span>
<span class="co">#&gt; 5   3 disease-free  3</span>
<span class="co">#&gt; 6   3           tb 17</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_uk</span>
<span class="co">#&gt; $n_tb_screen_uk$`1`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  2</span>
<span class="co">#&gt; 2   1           tb  8</span>
<span class="co">#&gt; 3   2 disease-free  1</span>
<span class="co">#&gt; 4   2           tb  9</span>
<span class="co">#&gt; 5   3 disease-free  0</span>
<span class="co">#&gt; 6   3           tb 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_uk$`2`</span>
<span class="co">#&gt;   sim       status n</span>
<span class="co">#&gt; 1   1 disease-free 2</span>
<span class="co">#&gt; 2   1           tb 8</span>
<span class="co">#&gt; 3   2 disease-free 2</span>
<span class="co">#&gt; 4   2           tb 8</span>
<span class="co">#&gt; 5   3 disease-free 2</span>
<span class="co">#&gt; 6   3           tb 8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_uk$`3`</span>
<span class="co">#&gt;   sim       status n</span>
<span class="co">#&gt; 1   1 disease-free 1</span>
<span class="co">#&gt; 2   1           tb 9</span>
<span class="co">#&gt; 3   2 disease-free 1</span>
<span class="co">#&gt; 4   2           tb 9</span>
<span class="co">#&gt; 5   3 disease-free 1</span>
<span class="co">#&gt; 6   3           tb 9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx$`1`</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.108864 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx$`2`</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.145152 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx$`3`</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;     0.18144 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $subset_pop</span>
<span class="co">#&gt; $subset_pop$`1`</span>
<span class="co">#&gt;    LTBI_pre tests  positive    startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.08930096 0.05358058 0.03122406 0.2555931</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $subset_pop$`2`</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1190679 0.07144077 0.04163208 0.2451851</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $subset_pop$`3`</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx     cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1488349 0.08930096 0.0520401  0.234777</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call</span>
<span class="co">#&gt; $call$`1`</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call$`2`</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call$`3`</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N.mc</span>
<span class="co">#&gt; $N.mc$`1`</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N.mc$`2`</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N.mc$`3`</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>We need to extract some specific values and initialise the variables for the cost-effectiveness statistics.</p>
<p>Number of TB cases in status-quo scenario.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n_uk_tb &lt;-<span class="st"> </span>dectree_res<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">$</span>call<span class="op">$</span>n.uk_tb
n_exit_tb &lt;-<span class="st"> </span>dectree_res<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">$</span>call<span class="op">$</span>n.exit_tb
n_all_tb &lt;-<span class="st"> </span>n_exit_tb <span class="op">+</span><span class="st"> </span>n_uk_tb</code></pre></div>
<p>Numbers of individuals who avoid getting TB due to screening.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avoid_all_tb &lt;-
<span class="st">  </span>scenario_res<span class="op">$</span>n_tb_screen_all <span class="op">%&gt;%</span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(<span class="cf">function</span>(x) dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, status <span class="op">==</span><span class="st"> "disease-free"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x) x<span class="op">$</span>n)

avoid_uk_tb  &lt;-
<span class="st">  </span>scenario_res<span class="op">$</span>n_tb_screen_uk <span class="op">%&gt;%</span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(<span class="cf">function</span>(x) dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, status <span class="op">==</span><span class="st"> "disease-free"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x) x<span class="op">$</span>n)

avoid_tb &lt;-
<span class="st">  </span><span class="kw">mapply</span>(<span class="cf">function</span>(x,y) <span class="kw">cbind</span>(x, y),
         avoid_all_tb,
         avoid_uk_tb,
         <span class="dt">SIMPLIFY =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map</span>(<span class="st">`</span><span class="dt">colnames&lt;-</span><span class="st">`</span>, <span class="kw">c</span>(<span class="st">'all'</span>,<span class="st">'uk'</span>))

<span class="kw">rm</span>(avoid_all_tb,
   avoid_uk_tb)</code></pre></div>
<p>Define some variables weâ€™ll need later.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n.scenarios &lt;-<span class="st"> </span><span class="kw">length</span>(dectree_res)
N.mc &lt;-<span class="st"> </span>dectree_res<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">$</span>call<span class="op">$</span>N.mc

interv_cost &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> N.mc, <span class="dt">mode =</span> <span class="st">"list"</span>)
interv_QALY &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> N.mc, <span class="dt">mode =</span> <span class="st">"list"</span>)
stats_scenario &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> n.scenarios, <span class="dt">mode =</span> <span class="st">"list"</span>)

pop_year &lt;-<span class="st">  </span><span class="dv">1000</span> ##TODO: get real value</code></pre></div>
<p>We also calculate the expected statistics for reproducability and comparison with the randomly generated values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mean_cost.aTB_TxDx &lt;-
<span class="st">  </span>unit_cost<span class="op">$</span>aTB_TxDx <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">means_distributions</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sum</span>()

mean_num_sec_inf &lt;-
<span class="st">  </span>NUM_SECONDARY_INF <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">means_distributions</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">unlist</span>()</code></pre></div>
<p>Extract cost-effectiveness variables from main individual-level data set and create some more expected statistics using these.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">costeff_cohort &lt;-
<span class="st">  </span>cohort <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(cfr,
         QALY_statusquo,
         QALY_diseasefree,
         QALY_cured,
         QALY_fatality,
         uk_notif_discounts,
         all_notif_discounts,
         uk_secondary_inf_discounts,
         all_secondary_inf_discounts) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">E_cost_sec_inf =</span> mean_num_sec_inf <span class="op">*</span><span class="st"> </span>mean_cost.aTB_TxDx <span class="op">*</span><span class="st"> </span>all_secondary_inf_discounts,
         <span class="dt">E_cost_statusquo =</span> (all_notif_discounts <span class="op">*</span><span class="st"> </span>mean_cost.aTB_TxDx) <span class="op">+</span><span class="st"> </span>E_cost_sec_inf,
         <span class="dt">E_QALY_statusquo =</span> (cfr <span class="op">*</span><span class="st"> </span>QALY_fatality) <span class="op">+</span><span class="st"> </span>((<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>cfr) <span class="op">*</span><span class="st"> </span>QALY_cured)) <span class="op">%&gt;%</span>
<span class="st">  </span>stats<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/stats/topics/na.fail">na.omit</a></span>()</code></pre></div>
</div>
<div id="calculate-cost-effectiveness-statistics-for-each-scenario" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-cost-effectiveness-statistics-for-each-scenario" class="anchor"></a>Calculate cost-effectiveness statistics for each scenario</h2>
<p>We iterate over all scenarios and all Monte-Carlo samples. The <code>scenario_cost</code> and <code>scenario_QALY</code> functions calculate the respective values for each. We then transpose the returned values from these functions and calculate the final statistics in a single list.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">interv_scenario_cost &lt;-<span class="st"> </span><span class="kw">partial</span>(scenario_cost,
                                <span class="dt">endpoint =</span> interv<span class="op">$</span>ENDPOINT_cost,
                                <span class="dt">unit_cost.aTB_TxDx =</span> unit_cost<span class="op">$</span>aTB_TxDx,
                                <span class="dt">num_2nd_inf =</span> NUM_SECONDARY_INF,
                                <span class="dt">costeff_cohort =</span> costeff_cohort,
                                <span class="dt">total_tb =</span> n_all_tb)

interv_scenario_QALY &lt;-<span class="st"> </span><span class="kw">partial</span>(scenario_QALY,
                                <span class="dt">total =</span> n_all_tb,
                                <span class="dt">costeff_data =</span> costeff_cohort)

<span class="cf">for</span> (s <span class="cf">in</span> <span class="kw">seq_len</span>(n.scenarios)) {
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_len</span>(N.mc)) {
    
    <span class="co"># set.seed(12345)</span>
    
    num_avoided &lt;-<span class="st"> </span>avoid_tb[[s]][i, ]
    
    interv_cost[[i]] &lt;-<span class="st"> </span><span class="kw">interv_scenario_cost</span>(num_avoided)
    interv_QALY[[i]] &lt;-<span class="st"> </span><span class="kw">interv_scenario_QALY</span>(num_avoided)
  }
  
  stats_scenario[[s]] &lt;-<span class="st"> </span><span class="kw">costeff_stats</span>(<span class="dt">scenario_dat =</span> dectree_res[[s]],
                                       <span class="dt">interv_QALY =</span> interv_QALY,
                                       <span class="dt">interv_cost =</span> interv_cost,
                                       <span class="dt">pop_year =</span> pop_year)
}

aTB_CE_stats &lt;-<span class="st"> </span>stats_scenario <span class="op">%&gt;%</span><span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/transpose">transpose</a></span>()

aTB_CE_stats
<span class="co">#&gt; $QALY.statusquo</span>
<span class="co">#&gt; $QALY.statusquo[[1]]</span>
<span class="co">#&gt;  [1] 14031.38 14031.38 14031.38 14031.38 14031.38 14031.38 14031.38</span>
<span class="co">#&gt;  [8] 14031.38 14031.38 14031.38</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo[[2]]</span>
<span class="co">#&gt;  [1] 14031.38 14031.38 14031.38 14031.38 14031.38 14031.38 14031.38</span>
<span class="co">#&gt;  [8] 14031.38 14031.38 14031.38</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo[[3]]</span>
<span class="co">#&gt;  [1] 14031.38 14031.38 14031.38 14031.38 14031.38 14031.38 14031.38</span>
<span class="co">#&gt;  [8] 14031.38 14031.38 14031.38</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened</span>
<span class="co">#&gt; $QALY.screened[[1]]</span>
<span class="co">#&gt;  [1] 14032.31 14031.98 14031.98 14031.98 14032.00 14032.00 14032.62</span>
<span class="co">#&gt;  [8] 14032.28 14032.31 14031.98</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened[[2]]</span>
<span class="co">#&gt;  [1] 14032.31 14032.29 14032.29 14033.23 14031.66 14032.31 14032.92</span>
<span class="co">#&gt;  [8] 14031.69 14031.38 14032.62</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened[[3]]</span>
<span class="co">#&gt;  [1] 14032.29 14032.63 14032.31 14032.60 14031.98 14033.86 14031.38</span>
<span class="co">#&gt;  [8] 14032.91 14032.58 14032.00</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_screened</span>
<span class="co">#&gt; $E_cost_screened[[1]]</span>
<span class="co">#&gt; [1] 3903219</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_screened[[2]]</span>
<span class="co">#&gt; [1] 3994908</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_screened[[3]]</span>
<span class="co">#&gt; [1] 4397815</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened_person</span>
<span class="co">#&gt; $cost.screened_person[[1]]</span>
<span class="co">#&gt;  [1] 2892.155 3694.782 5375.227 2237.092 4736.823 3761.111 3073.991</span>
<span class="co">#&gt;  [8] 3802.369 5141.063 4317.578</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened_person[[2]]</span>
<span class="co">#&gt;  [1] 5907.969 3591.027 3023.731 3648.177 4356.866 3169.036 2444.561</span>
<span class="co">#&gt;  [8] 4059.441 5727.177 4021.097</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened_person[[3]]</span>
<span class="co">#&gt;  [1] 4167.226 6662.840 3822.676 4525.689 5375.961 4764.232 4329.864</span>
<span class="co">#&gt;  [8] 3010.001 4440.565 2879.095</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo_person</span>
<span class="co">#&gt; $cost.statusquo_person[[1]]</span>
<span class="co">#&gt;  [1] 2900.635 3700.551 5388.829 2241.034 4748.710 3770.705 3083.310</span>
<span class="co">#&gt;  [8] 3812.376 5149.930 4326.714</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo_person[[2]]</span>
<span class="co">#&gt;  [1] 5929.015 3602.837 3031.512 3672.614 4363.494 3176.638 2452.708</span>
<span class="co">#&gt;  [8] 4065.407 5727.177 4045.260</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo_person[[3]]</span>
<span class="co">#&gt;  [1] 4181.493 6690.999 3831.732 4546.937 5386.166 4811.517 4329.864</span>
<span class="co">#&gt;  [8] 3023.645 4462.383 2888.022</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur</span>
<span class="co">#&gt; $cost_incur[[1]]</span>
<span class="co">#&gt;  [1]  -8480.538  -5769.061 -13602.230  -3941.800 -11886.553  -9594.122</span>
<span class="co">#&gt;  [7]  -9318.991 -10007.683  -8867.694  -9136.480</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur[[2]]</span>
<span class="co">#&gt;  [1] -21045.602 -11809.604  -7781.309 -24437.684  -6627.897  -7602.122</span>
<span class="co">#&gt;  [7]  -8146.484  -5966.299      0.000 -24162.497</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur[[3]]</span>
<span class="co">#&gt;  [1] -14266.718 -28158.966  -9056.345 -21248.178 -10204.341 -47284.430</span>
<span class="co">#&gt;  [7]      0.000 -13643.529 -21818.627  -8927.014</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo</span>
<span class="co">#&gt; $cost.statusquo[[1]]</span>
<span class="co">#&gt;  [1] 2900635 3700551 5388829 2241034 4748710 3770705 3083310 3812376</span>
<span class="co">#&gt;  [9] 5149930 4326714</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo[[2]]</span>
<span class="co">#&gt;  [1] 5929015 3602837 3031512 3672614 4363494 3176638 2452708 4065407</span>
<span class="co">#&gt;  [9] 5727177 4045260</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo[[3]]</span>
<span class="co">#&gt;  [1] 4181493 6690999 3831732 4546937 5386166 4811517 4329864 3023645</span>
<span class="co">#&gt;  [9] 4462383 2888022</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened</span>
<span class="co">#&gt; $cost.screened[[1]]</span>
<span class="co">#&gt;  [1] 2892155 3694782 5375227 2237092 4736823 3761111 3073991 3802369</span>
<span class="co">#&gt;  [9] 5141063 4317578</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened[[2]]</span>
<span class="co">#&gt;  [1] 5907969 3591027 3023731 3648177 4356866 3169036 2444561 4059441</span>
<span class="co">#&gt;  [9] 5727177 4021097</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened[[3]]</span>
<span class="co">#&gt;  [1] 4167226 6662840 3822676 4525689 5375961 4764232 4329864 3010001</span>
<span class="co">#&gt;  [9] 4440565 2879095</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALY_screened</span>
<span class="co">#&gt; $E_QALY_screened[[1]]</span>
<span class="co">#&gt; [1] 14032.14</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALY_screened[[2]]</span>
<span class="co">#&gt; [1] 14032.27</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALY_screened[[3]]</span>
<span class="co">#&gt; [1] 14032.45</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened_person</span>
<span class="co">#&gt; $QALY.screened_person[[1]]</span>
<span class="co">#&gt;  [1] 14.03231 14.03198 14.03198 14.03198 14.03200 14.03200 14.03262</span>
<span class="co">#&gt;  [8] 14.03228 14.03231 14.03198</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened_person[[2]]</span>
<span class="co">#&gt;  [1] 14.03231 14.03229 14.03229 14.03323 14.03166 14.03231 14.03292</span>
<span class="co">#&gt;  [8] 14.03169 14.03138 14.03262</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened_person[[3]]</span>
<span class="co">#&gt;  [1] 14.03229 14.03263 14.03231 14.03260 14.03198 14.03386 14.03138</span>
<span class="co">#&gt;  [8] 14.03291 14.03258 14.03200</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo_person</span>
<span class="co">#&gt; $QALY.statusquo_person[[1]]</span>
<span class="co">#&gt;  [1] 14.03138 14.03138 14.03138 14.03138 14.03138 14.03138 14.03138</span>
<span class="co">#&gt;  [8] 14.03138 14.03138 14.03138</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo_person[[2]]</span>
<span class="co">#&gt;  [1] 14.03138 14.03138 14.03138 14.03138 14.03138 14.03138 14.03138</span>
<span class="co">#&gt;  [8] 14.03138 14.03138 14.03138</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo_person[[3]]</span>
<span class="co">#&gt;  [1] 14.03138 14.03138 14.03138 14.03138 14.03138 14.03138 14.03138</span>
<span class="co">#&gt;  [8] 14.03138 14.03138 14.03138</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain</span>
<span class="co">#&gt; $QALYgain[[1]]</span>
<span class="co">#&gt;  [1] 0.9396 0.6012 0.6012 0.6012 0.6264 0.6264 1.2456 0.9072 0.9396 0.6012</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain[[2]]</span>
<span class="co">#&gt;  [1] 0.9396 0.9144 0.9144 1.8540 0.2880 0.9396 1.5408 0.3132 0.0000 1.2456</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain[[3]]</span>
<span class="co">#&gt;  [1] 0.9144 1.2528 0.9396 1.2276 0.6012 2.4804 0.0000 1.5336 1.2024 0.6264</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur_person</span>
<span class="co">#&gt; $cost_incur_person[[1]]</span>
<span class="co">#&gt;  [1]  -8.480538  -5.769061 -13.602230  -3.941800 -11.886553  -9.594122</span>
<span class="co">#&gt;  [7]  -9.318991 -10.007683  -8.867694  -9.136480</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur_person[[2]]</span>
<span class="co">#&gt;  [1] -21.045602 -11.809604  -7.781309 -24.437684  -6.627897  -7.602122</span>
<span class="co">#&gt;  [7]  -8.146484  -5.966299   0.000000 -24.162497</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur_person[[3]]</span>
<span class="co">#&gt;  [1] -14.266718 -28.158966  -9.056345 -21.248178 -10.204341 -47.284430</span>
<span class="co">#&gt;  [7]   0.000000 -13.643529 -21.818627  -8.927014</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur</span>
<span class="co">#&gt; $E_cost_incur[[1]]</span>
<span class="co">#&gt; [1] -9060.515</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur[[2]]</span>
<span class="co">#&gt; [1] -11757.95</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur[[3]]</span>
<span class="co">#&gt; [1] -17460.81</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur_person</span>
<span class="co">#&gt; $E_cost_incur_person[[1]]</span>
<span class="co">#&gt; [1] -9.060515</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur_person[[2]]</span>
<span class="co">#&gt; [1] -11.75795</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur_person[[3]]</span>
<span class="co">#&gt; [1] -17.46081</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain_person</span>
<span class="co">#&gt; $QALYgain_person[[1]]</span>
<span class="co">#&gt;  [1] 0.0009396 0.0006012 0.0006012 0.0006012 0.0006264 0.0006264 0.0012456</span>
<span class="co">#&gt;  [8] 0.0009072 0.0009396 0.0006012</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain_person[[2]]</span>
<span class="co">#&gt;  [1] 0.0009396 0.0009144 0.0009144 0.0018540 0.0002880 0.0009396 0.0015408</span>
<span class="co">#&gt;  [8] 0.0003132 0.0000000 0.0012456</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain_person[[3]]</span>
<span class="co">#&gt;  [1] 0.0009144 0.0012528 0.0009396 0.0012276 0.0006012 0.0024804 0.0000000</span>
<span class="co">#&gt;  [8] 0.0015336 0.0012024 0.0006264</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain</span>
<span class="co">#&gt; $E_QALYgain[[1]]</span>
<span class="co">#&gt; [1] 0.76896</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain[[2]]</span>
<span class="co">#&gt; [1] 0.89496</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain[[3]]</span>
<span class="co">#&gt; [1] 1.07784</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain_person</span>
<span class="co">#&gt; $E_QALYgain_person[[1]]</span>
<span class="co">#&gt; [1] 0.00076896</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain_person[[2]]</span>
<span class="co">#&gt; [1] 0.00089496</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain_person[[3]]</span>
<span class="co">#&gt; [1] 0.00107784</span>

<span class="kw">save</span>(aTB_CE_stats,
     <span class="dt">file =</span> <span class="st">"aTB_CE_stats.RData"</span>)</code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#analysis-preparation">Analysis preparation</a></li>
      <li><a href="#calculate-cost-effectiveness-statistics-for-each-scenario">Calculate cost-effectiveness statistics for each scenario</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Nathan Green, <a href="https://www.rstudio.com"><img src="http://tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
