<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cost-effectiveness calculation • LTBIscreeningproject</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Cost-effectiveness calculation">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LTBIscreeningproject</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/active-tb-imputation.html">Active TB progression estimation</a>
    </li>
    <li>
      <a href="../articles/cost-effectiveness-analysis.html">Cost-effectiveness calculation</a>
    </li>
    <li>
      <a href="../articles/scenario-simulation.html">A scenario decision tree simulation</a>
    </li>
    <li>
      <a href="../articles/set-up.html">Basic example: model set-up</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Cost-effectiveness calculation</h1>
                        <h4 class="author">Nathan Green</h4>
            
            <h4 class="date">2018-04-04</h4>
      
      

    </div>

    
    
<div class="contents">
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This document demonstrates how we calculate the cost and QALY statistics.</p>
</div>
<div id="analysis-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-preparation" class="anchor"></a>Analysis preparation</h2>
<p>Load packages</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(treeSimR)
<span class="kw">library</span>(LTBIscreeningproject)
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(data.tree)
<span class="kw">library</span>(purrr)</code></pre></div>
<p>We first need to read-in the decision tree output data and the individual cohort data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dectree_res &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">"decision_tree_output.Rds"</span>)
cohort &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">"cohort.Rds"</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data("cost_effectivness_params", package = "LTBIscreeningproject")</span></code></pre></div>
<p>It is sometimes arkward to use the decision tree output in the format with the scenario number as the top level. It may be more useful to have each output type at the top level instead, so we <em>transpose</em> the data.</p>
<p>From:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(dectree_res, <span class="dt">FUN =</span> <span class="cf">function</span>(x) <span class="kw">lapply</span>(x, head))
<span class="co">#&gt; $`1`</span>
<span class="co">#&gt; $`1`$mc_cost</span>
<span class="co">#&gt; [1] 36.68548 36.61006 36.61826 36.59354 36.10751 36.83831</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$mc_health</span>
<span class="co">#&gt; [1] 95.25409 90.51423 84.44305 92.30160 88.75043 81.25801</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$n_tb_screen_all</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  1</span>
<span class="co">#&gt; 2   1           tb 19</span>
<span class="co">#&gt; 3   2 disease-free  1</span>
<span class="co">#&gt; 4   2           tb 19</span>
<span class="co">#&gt; 5   3 disease-free  1</span>
<span class="co">#&gt; 6   3           tb 19</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$n_tb_screen_uk</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  2</span>
<span class="co">#&gt; 2   1           tb  8</span>
<span class="co">#&gt; 3   2 disease-free  0</span>
<span class="co">#&gt; 4   2           tb 10</span>
<span class="co">#&gt; 5   3 disease-free  1</span>
<span class="co">#&gt; 6   3           tb  9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.108864 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$subset_pop</span>
<span class="co">#&gt;    LTBI_pre tests  positive    startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.08930096 0.05358058 0.03122406 0.2555931</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$call</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`1`$N.mc</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`</span>
<span class="co">#&gt; $`2`$mc_cost</span>
<span class="co">#&gt; [1] 44.45953 44.70282 45.15656 44.39984 45.19195 44.98131</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$mc_health</span>
<span class="co">#&gt; [1]  94.51926  87.13475  97.46247 110.26100  91.59766  91.00221</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$n_tb_screen_all</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  4</span>
<span class="co">#&gt; 2   1           tb 16</span>
<span class="co">#&gt; 3   2 disease-free  4</span>
<span class="co">#&gt; 4   2           tb 16</span>
<span class="co">#&gt; 5   3 disease-free  3</span>
<span class="co">#&gt; 6   3           tb 17</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$n_tb_screen_uk</span>
<span class="co">#&gt;   sim       status n</span>
<span class="co">#&gt; 1   1 disease-free 1</span>
<span class="co">#&gt; 2   1           tb 9</span>
<span class="co">#&gt; 3   2 disease-free 2</span>
<span class="co">#&gt; 4   2           tb 8</span>
<span class="co">#&gt; 5   3 disease-free 3</span>
<span class="co">#&gt; 6   3           tb 7</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.145152 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$subset_pop</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1190679 0.07144077 0.04163208 0.2451851</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$call</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2`$N.mc</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`</span>
<span class="co">#&gt; $`3`$mc_cost</span>
<span class="co">#&gt; [1] 52.34091 53.00098 52.67460 53.34666 53.47174 52.50798</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$mc_health</span>
<span class="co">#&gt; [1] 121.04159 112.48628 124.22400 114.51875  97.27893 138.28663</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$n_tb_screen_all</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  2</span>
<span class="co">#&gt; 2   1           tb 18</span>
<span class="co">#&gt; 3   2 disease-free  8</span>
<span class="co">#&gt; 4   2           tb 12</span>
<span class="co">#&gt; 5   3 disease-free  5</span>
<span class="co">#&gt; 6   3           tb 15</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$n_tb_screen_uk</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  0</span>
<span class="co">#&gt; 2   1           tb 10</span>
<span class="co">#&gt; 3   2 disease-free  3</span>
<span class="co">#&gt; 4   2           tb  7</span>
<span class="co">#&gt; 5   3 disease-free  0</span>
<span class="co">#&gt; 6   3           tb 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;     0.18144 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$subset_pop</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx     cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1488349 0.08930096 0.0520401  0.234777</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$call</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`3`$N.mc</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>to:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># convert from scenario-wise to parameter-wise format</span>
scenario_res &lt;-
<span class="st">  </span>dectree_res <span class="op">%&gt;%</span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/transpose">transpose</a></span>()

<span class="kw">lapply</span>(scenario_res, <span class="cf">function</span>(x) <span class="kw">lapply</span>(x, head))
<span class="co">#&gt; $mc_cost</span>
<span class="co">#&gt; $mc_cost$`1`</span>
<span class="co">#&gt; [1] 36.68548 36.61006 36.61826 36.59354 36.10751 36.83831</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_cost$`2`</span>
<span class="co">#&gt; [1] 44.45953 44.70282 45.15656 44.39984 45.19195 44.98131</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_cost$`3`</span>
<span class="co">#&gt; [1] 52.34091 53.00098 52.67460 53.34666 53.47174 52.50798</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_health</span>
<span class="co">#&gt; $mc_health$`1`</span>
<span class="co">#&gt; [1] 95.25409 90.51423 84.44305 92.30160 88.75043 81.25801</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_health$`2`</span>
<span class="co">#&gt; [1]  94.51926  87.13475  97.46247 110.26100  91.59766  91.00221</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $mc_health$`3`</span>
<span class="co">#&gt; [1] 121.04159 112.48628 124.22400 114.51875  97.27893 138.28663</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_all</span>
<span class="co">#&gt; $n_tb_screen_all$`1`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  1</span>
<span class="co">#&gt; 2   1           tb 19</span>
<span class="co">#&gt; 3   2 disease-free  1</span>
<span class="co">#&gt; 4   2           tb 19</span>
<span class="co">#&gt; 5   3 disease-free  1</span>
<span class="co">#&gt; 6   3           tb 19</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_all$`2`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  4</span>
<span class="co">#&gt; 2   1           tb 16</span>
<span class="co">#&gt; 3   2 disease-free  4</span>
<span class="co">#&gt; 4   2           tb 16</span>
<span class="co">#&gt; 5   3 disease-free  3</span>
<span class="co">#&gt; 6   3           tb 17</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_all$`3`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  2</span>
<span class="co">#&gt; 2   1           tb 18</span>
<span class="co">#&gt; 3   2 disease-free  8</span>
<span class="co">#&gt; 4   2           tb 12</span>
<span class="co">#&gt; 5   3 disease-free  5</span>
<span class="co">#&gt; 6   3           tb 15</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_uk</span>
<span class="co">#&gt; $n_tb_screen_uk$`1`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  2</span>
<span class="co">#&gt; 2   1           tb  8</span>
<span class="co">#&gt; 3   2 disease-free  0</span>
<span class="co">#&gt; 4   2           tb 10</span>
<span class="co">#&gt; 5   3 disease-free  1</span>
<span class="co">#&gt; 6   3           tb  9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_uk$`2`</span>
<span class="co">#&gt;   sim       status n</span>
<span class="co">#&gt; 1   1 disease-free 1</span>
<span class="co">#&gt; 2   1           tb 9</span>
<span class="co">#&gt; 3   2 disease-free 2</span>
<span class="co">#&gt; 4   2           tb 8</span>
<span class="co">#&gt; 5   3 disease-free 3</span>
<span class="co">#&gt; 6   3           tb 7</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n_tb_screen_uk$`3`</span>
<span class="co">#&gt;   sim       status  n</span>
<span class="co">#&gt; 1   1 disease-free  0</span>
<span class="co">#&gt; 2   1           tb 10</span>
<span class="co">#&gt; 3   2 disease-free  3</span>
<span class="co">#&gt; 4   2           tb  7</span>
<span class="co">#&gt; 5   3 disease-free  0</span>
<span class="co">#&gt; 6   3           tb 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx</span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx$`1`</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.108864 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx$`2`</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;    0.145152 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $p_LTBI_to_effectiveTx$`3`</span>
<span class="co">#&gt; (350,1e+05] </span>
<span class="co">#&gt;     0.18144 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $subset_pop</span>
<span class="co">#&gt; $subset_pop$`1`</span>
<span class="co">#&gt;    LTBI_pre tests  positive    startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.08930096 0.05358058 0.03122406 0.2555931</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $subset_pop$`2`</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx      cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1190679 0.07144077 0.04163208 0.2451851</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $subset_pop$`3`</span>
<span class="co">#&gt;    LTBI_pre tests  positive   startTx completeTx     cured LTBI_post</span>
<span class="co">#&gt; 1 0.2868171   0.6 0.1488349 0.1488349 0.08930096 0.0520401  0.234777</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call</span>
<span class="co">#&gt; $call$`1`</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call$`2`</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call$`3`</span>
<span class="co">#&gt; FUN(parameters = X[[i]], N.mc = 10, n.uk_tb = 10, n.exit_tb = 10, </span>
<span class="co">#&gt;     cost_dectree = "osNode_cost_2009.Rds")</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N.mc</span>
<span class="co">#&gt; $N.mc$`1`</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N.mc$`2`</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N.mc$`3`</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>We need to extract some specific values and initialise the variables for the cost-effectiveness statistics.</p>
<p>Number of TB cases in status-quo scenario.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n_uk_tb &lt;-<span class="st"> </span>dectree_res<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">$</span>call<span class="op">$</span>n.uk_tb
n_exit_tb &lt;-<span class="st"> </span>dectree_res<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">$</span>call<span class="op">$</span>n.exit_tb
n_all_tb &lt;-<span class="st"> </span>n_exit_tb <span class="op">+</span><span class="st"> </span>n_uk_tb</code></pre></div>
<p>Numbers of individuals who avoid getting TB due to screening.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avoid_all_tb &lt;-
<span class="st">  </span>scenario_res<span class="op">$</span>n_tb_screen_all <span class="op">%&gt;%</span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(<span class="cf">function</span>(x) dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, status <span class="op">==</span><span class="st"> "disease-free"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x) x<span class="op">$</span>n)

avoid_uk_tb  &lt;-
<span class="st">  </span>scenario_res<span class="op">$</span>n_tb_screen_uk <span class="op">%&gt;%</span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(<span class="cf">function</span>(x) dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, status <span class="op">==</span><span class="st"> "disease-free"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x) x<span class="op">$</span>n)

avoid_tb &lt;-
<span class="st">  </span><span class="kw">mapply</span>(<span class="cf">function</span>(x,y) <span class="kw">cbind</span>(x, y),
         avoid_all_tb,
         avoid_uk_tb,
         <span class="dt">SIMPLIFY =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map</span>(<span class="st">`</span><span class="dt">colnames&lt;-</span><span class="st">`</span>, <span class="kw">c</span>(<span class="st">'all'</span>,<span class="st">'uk'</span>))

<span class="kw">rm</span>(avoid_all_tb,
   avoid_uk_tb)</code></pre></div>
<p>Define some variables we’ll need later.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n.scenarios &lt;-<span class="st"> </span><span class="kw">length</span>(dectree_res)
N.mc &lt;-<span class="st"> </span>dectree_res<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">$</span>call<span class="op">$</span>N.mc

interv_cost &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> N.mc, <span class="dt">mode =</span> <span class="st">"list"</span>)
interv_QALY &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> N.mc, <span class="dt">mode =</span> <span class="st">"list"</span>)
stats_scenario &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> n.scenarios, <span class="dt">mode =</span> <span class="st">"list"</span>)

pop_year &lt;-<span class="st">  </span><span class="dv">1000</span> ##TODO: get real value</code></pre></div>
<p>We also calculate the expected statistics for reproducability and comparison with the randomly generated values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mean_cost.aTB_TxDx &lt;-
<span class="st">  </span>unit_cost<span class="op">$</span>aTB_TxDx <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">means_distributions</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sum</span>()

mean_num_sec_inf &lt;-
<span class="st">  </span>NUM_SECONDARY_INF <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">means_distributions</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">unlist</span>()</code></pre></div>
<p>Extract cost-effectiveness variables from main individual-level data set and create some more expected statistics using these.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">costeff_cohort &lt;-
<span class="st">  </span>cohort <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(cfr,
         QALY_statusquo,
         QALY_diseasefree,
         QALY_cured,
         QALY_fatality,
         uk_notif_discounts,
         all_notif_discounts,
         uk_secondary_inf_discounts,
         all_secondary_inf_discounts) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">E_cost_sec_inf =</span> mean_num_sec_inf <span class="op">*</span><span class="st"> </span>mean_cost.aTB_TxDx <span class="op">*</span><span class="st"> </span>all_secondary_inf_discounts,
         <span class="dt">E_cost_statusquo =</span> (all_notif_discounts <span class="op">*</span><span class="st"> </span>mean_cost.aTB_TxDx) <span class="op">+</span><span class="st"> </span>E_cost_sec_inf,
         <span class="dt">E_QALY_statusquo =</span> (cfr <span class="op">*</span><span class="st"> </span>QALY_fatality) <span class="op">+</span><span class="st"> </span>((<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>cfr) <span class="op">*</span><span class="st"> </span>QALY_cured)) <span class="op">%&gt;%</span>
<span class="st">  </span>stats<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/stats/topics/na.fail">na.omit</a></span>()</code></pre></div>
</div>
<div id="calculate-cost-effectivness-statistics-for-all-scenarios" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-cost-effectivness-statistics-for-all-scenarios" class="anchor"></a>Calculate cost-effectivness statistics for all scenarios</h2>
<p>We iterate over all scenarios and all Monte-Carlo samples. The <code>scenario_cost</code> and <code>scenario_QALY</code> functions calculate the respective values for each. We then transpose the returned values from these functions and calculate the final statistics in a single list.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">interv_scenario_cost &lt;-<span class="st"> </span><span class="kw">partial</span>(scenario_cost,
                                <span class="dt">endpoint =</span> interv<span class="op">$</span>ENDPOINT_cost,
                                <span class="dt">unit_cost.aTB_TxDx =</span> unit_cost<span class="op">$</span>aTB_TxDx,
                                <span class="dt">num_2nd_inf =</span> NUM_SECONDARY_INF,
                                <span class="dt">costeff_cohort =</span> costeff_cohort,
                                <span class="dt">total_tb =</span> n_all_tb)

interv_scenario_QALY &lt;-<span class="st"> </span><span class="kw">partial</span>(scenario_QALY,
                                <span class="dt">total =</span> n_all_tb,
                                <span class="dt">costeff_data =</span> costeff_cohort)

<span class="cf">for</span> (s <span class="cf">in</span> <span class="kw">seq_len</span>(n.scenarios)) {
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_len</span>(N.mc)) {
    
    <span class="co"># set.seed(12345)</span>
    
    num_avoided &lt;-<span class="st"> </span>avoid_tb[[s]][i, ]
    
    interv_cost[[i]] &lt;-<span class="st"> </span><span class="kw">interv_scenario_cost</span>(num_avoided)
    interv_QALY[[i]] &lt;-<span class="st"> </span><span class="kw">interv_scenario_QALY</span>(num_avoided)
  }
  
  stats_scenario[[s]] &lt;-<span class="st"> </span><span class="kw"><a href="../reference/costeff_stats.html">costeff_stats</a></span>(<span class="dt">scenario_dat =</span> dectree_res[[s]],
                                       <span class="dt">interv_QALY =</span> interv_QALY,
                                       <span class="dt">interv_cost =</span> interv_cost,
                                       <span class="dt">pop_year =</span> pop_year)
}

aTB_CE_stats &lt;-<span class="st"> </span>stats_scenario <span class="op">%&gt;%</span><span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/transpose">transpose</a></span>()

aTB_CE_stats
<span class="co">#&gt; $QALY.statusquo</span>
<span class="co">#&gt; $QALY.statusquo[[1]]</span>
<span class="co">#&gt;  [1] 17045.53 17045.53 17045.53 17045.53 17045.53 17045.53 17045.53</span>
<span class="co">#&gt;  [8] 17045.53 17045.53 17045.53</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo[[2]]</span>
<span class="co">#&gt;  [1] 17045.53 17045.53 17045.53 17045.53 17045.53 17045.53 17045.53</span>
<span class="co">#&gt;  [8] 17045.53 17045.53 17045.53</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo[[3]]</span>
<span class="co">#&gt;  [1] 17045.53 17045.53 17045.53 17045.53 17045.53 17045.53 17045.53</span>
<span class="co">#&gt;  [8] 17045.53 17045.53 17045.53</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened</span>
<span class="co">#&gt; $QALY.screened[[1]]</span>
<span class="co">#&gt;  [1] 17045.85 17045.82 17045.85 17046.16 17045.53 17046.16 17045.85</span>
<span class="co">#&gt;  [8] 17046.45 17046.47 17047.96</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened[[2]]</span>
<span class="co">#&gt;  [1] 17046.76 17046.79 17046.45 17046.79 17045.82 17046.14 17045.85</span>
<span class="co">#&gt;  [8] 17046.79 17046.45 17046.47</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened[[3]]</span>
<span class="co">#&gt;  [1] 17046.14 17047.99 17047.08 17046.76 17046.47 17046.11 17046.16</span>
<span class="co">#&gt;  [8] 17045.85 17047.10 17046.79</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_screened</span>
<span class="co">#&gt; $E_cost_screened[[1]]</span>
<span class="co">#&gt; [1] 4657443</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_screened[[2]]</span>
<span class="co">#&gt; [1] 4655481</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_screened[[3]]</span>
<span class="co">#&gt; [1] 5499138</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened_person</span>
<span class="co">#&gt; $cost.screened_person[[1]]</span>
<span class="co">#&gt;  [1] 4619.046 5295.877 3490.935 4004.830 3726.352 3160.777 4398.628</span>
<span class="co">#&gt;  [8] 5899.038 6175.932 5803.012</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened_person[[2]]</span>
<span class="co">#&gt;  [1] 2781.575 3528.327 5563.526 3923.622 4736.764 5712.217 6133.696</span>
<span class="co">#&gt;  [8] 6105.211 3630.959 4438.915</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened_person[[3]]</span>
<span class="co">#&gt;  [1] 3440.900 9234.511 4978.704 6707.963 4707.729 5533.152 3571.795</span>
<span class="co">#&gt;  [8] 5800.984 5946.532 5069.113</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo_person</span>
<span class="co">#&gt; $cost.statusquo_person[[1]]</span>
<span class="co">#&gt;  [1] 4624.379 5299.922 3493.602 4009.887 3726.352 3163.868 4404.069</span>
<span class="co">#&gt;  [8] 5914.359 6191.294 5847.606</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo_person[[2]]</span>
<span class="co">#&gt;  [1] 2790.484 3541.050 5574.854 3935.174 4742.048 5720.662 6140.778</span>
<span class="co">#&gt;  [8] 6129.626 3638.494 4444.084</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo_person[[3]]</span>
<span class="co">#&gt;  [1] 3446.952 9296.948 4997.111 6726.641 4720.818 5538.019 3577.018</span>
<span class="co">#&gt;  [8] 5802.224 5976.531 5081.497</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur</span>
<span class="co">#&gt; $cost_incur[[1]]</span>
<span class="co">#&gt;  [1]  -5333.093  -4044.930  -2666.336  -5056.959      0.000  -3090.868</span>
<span class="co">#&gt;  [7]  -5440.772 -15320.915 -15362.051 -44593.623</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur[[2]]</span>
<span class="co">#&gt;  [1]  -8909.468 -12723.260 -11328.478 -11552.227  -5283.860  -8444.865</span>
<span class="co">#&gt;  [7]  -7081.889 -24415.069  -7534.933  -5169.240</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur[[3]]</span>
<span class="co">#&gt;  [1]  -6051.949 -62436.938 -18406.761 -18677.910 -13088.495  -4866.873</span>
<span class="co">#&gt;  [7]  -5223.031  -1240.061 -29999.065 -12384.400</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo</span>
<span class="co">#&gt; $cost.statusquo[[1]]</span>
<span class="co">#&gt;  [1] 4624379 5299922 3493602 4009887 3726352 3163868 4404069 5914359</span>
<span class="co">#&gt;  [9] 6191294 5847606</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo[[2]]</span>
<span class="co">#&gt;  [1] 2790484 3541050 5574854 3935174 4742048 5720662 6140778 6129626</span>
<span class="co">#&gt;  [9] 3638494 4444084</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.statusquo[[3]]</span>
<span class="co">#&gt;  [1] 3446952 9296948 4997111 6726641 4720818 5538019 3577018 5802224</span>
<span class="co">#&gt;  [9] 5976531 5081497</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened</span>
<span class="co">#&gt; $cost.screened[[1]]</span>
<span class="co">#&gt;  [1] 4619046 5295877 3490935 4004830 3726352 3160777 4398628 5899038</span>
<span class="co">#&gt;  [9] 6175932 5803012</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened[[2]]</span>
<span class="co">#&gt;  [1] 2781575 3528327 5563526 3923622 4736764 5712217 6133696 6105211</span>
<span class="co">#&gt;  [9] 3630959 4438915</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost.screened[[3]]</span>
<span class="co">#&gt;  [1] 3440900 9234511 4978704 6707963 4707729 5533152 3571795 5800984</span>
<span class="co">#&gt;  [9] 5946532 5069113</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALY_screened</span>
<span class="co">#&gt; $E_QALY_screened[[1]]</span>
<span class="co">#&gt; [1] 17046.21</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALY_screened[[2]]</span>
<span class="co">#&gt; [1] 17046.43</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALY_screened[[3]]</span>
<span class="co">#&gt; [1] 17046.64</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened_person</span>
<span class="co">#&gt; $QALY.screened_person[[1]]</span>
<span class="co">#&gt;  [1] 17.04585 17.04582 17.04585 17.04616 17.04553 17.04616 17.04585</span>
<span class="co">#&gt;  [8] 17.04645 17.04647 17.04796</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened_person[[2]]</span>
<span class="co">#&gt;  [1] 17.04676 17.04679 17.04645 17.04679 17.04582 17.04614 17.04585</span>
<span class="co">#&gt;  [8] 17.04679 17.04645 17.04647</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.screened_person[[3]]</span>
<span class="co">#&gt;  [1] 17.04614 17.04799 17.04708 17.04676 17.04647 17.04611 17.04616</span>
<span class="co">#&gt;  [8] 17.04585 17.04710 17.04679</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo_person</span>
<span class="co">#&gt; $QALY.statusquo_person[[1]]</span>
<span class="co">#&gt;  [1] 17.04553 17.04553 17.04553 17.04553 17.04553 17.04553 17.04553</span>
<span class="co">#&gt;  [8] 17.04553 17.04553 17.04553</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo_person[[2]]</span>
<span class="co">#&gt;  [1] 17.04553 17.04553 17.04553 17.04553 17.04553 17.04553 17.04553</span>
<span class="co">#&gt;  [8] 17.04553 17.04553 17.04553</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALY.statusquo_person[[3]]</span>
<span class="co">#&gt;  [1] 17.04553 17.04553 17.04553 17.04553 17.04553 17.04553 17.04553</span>
<span class="co">#&gt;  [8] 17.04553 17.04553 17.04553</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain</span>
<span class="co">#&gt; $QALYgain[[1]]</span>
<span class="co">#&gt;  [1] 0.3132 0.2880 0.3132 0.6264 0.0000 0.6264 0.3132 0.9144 0.9396 2.4228</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain[[2]]</span>
<span class="co">#&gt;  [1] 1.2276 1.2528 0.9144 1.2528 0.2880 0.6012 0.3132 1.2528 0.9144 0.9396</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain[[3]]</span>
<span class="co">#&gt;  [1] 0.6012 2.4552 1.5408 1.2276 0.9396 0.5760 0.6264 0.3132 1.5660 1.2528</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur_person</span>
<span class="co">#&gt; $cost_incur_person[[1]]</span>
<span class="co">#&gt;  [1]  -5.333093  -4.044930  -2.666336  -5.056959   0.000000  -3.090868</span>
<span class="co">#&gt;  [7]  -5.440772 -15.320915 -15.362051 -44.593623</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur_person[[2]]</span>
<span class="co">#&gt;  [1]  -8.909468 -12.723260 -11.328478 -11.552227  -5.283860  -8.444865</span>
<span class="co">#&gt;  [7]  -7.081889 -24.415069  -7.534933  -5.169240</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $cost_incur_person[[3]]</span>
<span class="co">#&gt;  [1]  -6.051949 -62.436938 -18.406761 -18.677910 -13.088495  -4.866873</span>
<span class="co">#&gt;  [7]  -5.223031  -1.240061 -29.999065 -12.384400</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur</span>
<span class="co">#&gt; $E_cost_incur[[1]]</span>
<span class="co">#&gt; [1] -10090.95</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur[[2]]</span>
<span class="co">#&gt; [1] -10244.33</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur[[3]]</span>
<span class="co">#&gt; [1] -17237.55</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur_person</span>
<span class="co">#&gt; $E_cost_incur_person[[1]]</span>
<span class="co">#&gt; [1] -10.09095</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur_person[[2]]</span>
<span class="co">#&gt; [1] -10.24433</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_cost_incur_person[[3]]</span>
<span class="co">#&gt; [1] -17.23755</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain_person</span>
<span class="co">#&gt; $QALYgain_person[[1]]</span>
<span class="co">#&gt;  [1] 0.0003132 0.0002880 0.0003132 0.0006264 0.0000000 0.0006264 0.0003132</span>
<span class="co">#&gt;  [8] 0.0009144 0.0009396 0.0024228</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain_person[[2]]</span>
<span class="co">#&gt;  [1] 0.0012276 0.0012528 0.0009144 0.0012528 0.0002880 0.0006012 0.0003132</span>
<span class="co">#&gt;  [8] 0.0012528 0.0009144 0.0009396</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $QALYgain_person[[3]]</span>
<span class="co">#&gt;  [1] 0.0006012 0.0024552 0.0015408 0.0012276 0.0009396 0.0005760 0.0006264</span>
<span class="co">#&gt;  [8] 0.0003132 0.0015660 0.0012528</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain</span>
<span class="co">#&gt; $E_QALYgain[[1]]</span>
<span class="co">#&gt; [1] 0.67572</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain[[2]]</span>
<span class="co">#&gt; [1] 0.89568</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain[[3]]</span>
<span class="co">#&gt; [1] 1.10988</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain_person</span>
<span class="co">#&gt; $E_QALYgain_person[[1]]</span>
<span class="co">#&gt; [1] 0.00067572</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain_person[[2]]</span>
<span class="co">#&gt; [1] 0.00089568</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $E_QALYgain_person[[3]]</span>
<span class="co">#&gt; [1] 0.00110988</span>

<span class="kw">save</span>(aTB_CE_stats,
     <span class="dt">file =</span> <span class="st">"aTB_CE_stats.RData"</span>)</code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#analysis-preparation">Analysis preparation</a></li>
      <li><a href="#calculate-cost-effectivness-statistics-for-all-scenarios">Calculate cost-effectivness statistics for all scenarios</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Nathan Green, <a href="https://www.rstudio.com"><img src="http://tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
